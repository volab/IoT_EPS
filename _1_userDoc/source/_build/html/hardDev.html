
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
  <head>
    <meta charset="utf-8" />
    <title>Hardware development documentation &#8212; Documentation IoT_EPS </title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Recherche" href="search.html" />
    <link rel="next" title="Bug et ToDo-list" href="Bug_ToDoLst.html" />
    <link rel="prev" title="IOT EPS curent Sensing" href="curentSensing.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="Bug_ToDoLst.html" title="Bug et ToDo-list"
             accesskey="N">suivant</a> |</li>
        <li class="right" >
          <a href="curentSensing.html" title="IOT EPS curent Sensing"
             accesskey="P">précédent</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Documentation IoT_EPS </a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="hardware-development-documentation">
<h1><a class="toc-backref" href="#table-of-contents">Hardware development documentation</a><a class="headerlink" href="#hardware-development-documentation" title="Lien permanent vers ce titre">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Auteur</dt>
<dd class="field-odd"><p>J.Soranzo</p>
</dd>
<dt class="field-even">Date</dt>
<dd class="field-even"><p>Octobre 2018</p>
</dd>
<dt class="field-odd">version</dt>
<dd class="field-odd"><p>git versionning</p>
</dd>
</dl>
<div class="contents topic" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#hardware-development-documentation" id="id87">Hardware development documentation</a></p>
<ul>
<li><p><a class="reference internal" href="#ce-qui-existe-en-2020" id="id88">Ce qui existe en 2020 !</a></p></li>
<li><p><a class="reference internal" href="#test-de-la-prise-tp-link-avec-mesure-de-courant" id="id89">Test de la prise TP-Link avec mesure de courant</a></p></li>
<li><p><a class="reference internal" href="#progres" id="id90">Progres</a></p></li>
<li><p><a class="reference internal" href="#watchdog-function" id="id91">Watchdog function</a></p>
<ul>
<li><p><a class="reference internal" href="#attiny85-watchdog" id="id92">ATtiny85 watchdog</a></p></li>
<li><p><a class="reference internal" href="#atiny85-watchdog-test-tips" id="id93">ATiny85 watchdog test tips</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#max1232-integration-aborted" id="id94">MAX1232 integration aborted</a></p></li>
<li><p><a class="reference internal" href="#direct-relay-connection-to-esp-pins" id="id95">Direct relay connection to ESP pins</a></p></li>
<li><p><a class="reference internal" href="#ac-power-plug-in-the-world" id="id96">AC power plug in the world</a></p></li>
<li><p><a class="reference internal" href="#esp-power" id="id97">ESP power</a></p></li>
<li><p><a class="reference internal" href="#esp8266-power-up-problem" id="id98">ESP8266 power up problem</a></p></li>
<li><p><a class="reference internal" href="#real-time-calendar-clock" id="id99">Real time calendar clock</a></p></li>
<li><p><a class="reference internal" href="#current-sensor-choice" id="id100">Current sensor choice</a></p>
<ul>
<li><p><a class="reference internal" href="#ina219-et-ina220" id="id101">INA219 et INA220</a></p></li>
<li><p><a class="reference internal" href="#acs712" id="id102">ACS712</a></p></li>
<li><p><a class="reference internal" href="#acs764" id="id103">ACS764</a></p></li>
<li><p><a class="reference internal" href="#internet-search" id="id104">Internet search</a></p></li>
<li><p><a class="reference internal" href="#first-test" id="id105">First test</a></p></li>
<li><p><a class="reference internal" href="#new-asc723" id="id106">New ASC723</a></p></li>
<li><p><a class="reference internal" href="#tmcs1100-from-ti" id="id107">TMCS1100 from ti</a></p></li>
<li><p><a class="reference internal" href="#current-sensing-aborted" id="id108">Current Sensing Aborted</a></p></li>
<li><p><a class="reference internal" href="#max71020a-a-new-hope" id="id109">MAX71020A a new hope</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#relay-board-choice" id="id110">Relay board choice</a></p></li>
<li><p><a class="reference internal" href="#input-output-assignment" id="id111">Input / output assignment</a></p></li>
<li><p><a class="reference internal" href="#nanoi2cioexpander" id="id112">nanoI2CIOExpander</a></p></li>
<li><p><a class="reference internal" href="#bom" id="id113">BOM</a></p></li>
<li><p><a class="reference internal" href="#useful-documentation" id="id114">Useful Documentation</a></p></li>
<li><p><a class="reference internal" href="#weblinks" id="id115">Weblinks</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="ce-qui-existe-en-2020">
<h2><a class="toc-backref" href="#table-of-contents">Ce qui existe en 2020 !</a><a class="headerlink" href="#ce-qui-existe-en-2020" title="Lien permanent vers ce titre">¶</a></h2>
<p>TPlink</p>
<p>MEROSS</p>
<p>WECONN</p>
<p>AISIRER</p>
<p>HORSKY</p>
<p><strong>KONYKS</strong> sur AMAZON moins de 20€ et même une <a class="reference external" href="https://www.apynov.com/konyks-polyco">prise multiple Polyco</a> <a class="footnote-reference brackets" href="#id15" id="id16">1</a> moins de 60€ chez Boulanger,
AMAZON, Darty…</p>
</div>
<div class="section" id="test-de-la-prise-tp-link-avec-mesure-de-courant">
<h2><a class="toc-backref" href="#table-of-contents">Test de la prise TP-Link avec mesure de courant</a><a class="headerlink" href="#test-de-la-prise-tp-link-avec-mesure-de-courant" title="Lien permanent vers ce titre">¶</a></h2>
<p>Tout d’abord il faut installer l’appli sur son smart phone ! Quid du pilotage depuis le pc ou le mac
ou depuis son linux ?
Ensuite il faut créer un compte avec fourniture d’adress mail sur tplink pour piloter une pauvre
prise ! Argl !</p>
</div>
<div class="section" id="progres">
<h2><a class="toc-backref" href="#table-of-contents">Progres</a><a class="headerlink" href="#progres" title="Lien permanent vers ce titre">¶</a></h2>
<ol class="arabic simple">
<li><p>alimentation ESP/Wemos en 5V ? : <strong>OK</strong></p></li>
<li><p>horloge temps réelle : <strong>OK</strong></p></li>
<li><p>bouton poussoirs : <strong>OK</strong></p></li>
<li><p>Affectation des io : <strong>OK</strong></p></li>
<li><p>module relais : <strong>OK</strong></p></li>
<li><p>définition des modes de fonctionnement : <strong>OK</strong></p></li>
<li><p>récup paramètre via form submit html : <strong>OK</strong></p></li>
<li><p>add  WS2801 LED : <strong>OK</strong></p></li>
<li><p>Alimentation du module relais en 5V (choix du conver.) : 60%</p></li>
<li><p>add power led <strong>OK</strong></p></li>
<li><p>add power button : <strong>OK</strong></p></li>
<li><p>add wifi led : <strong>OK</strong></p></li>
<li><p>add LDR : removed</p></li>
<li><p>add I2C nano expander with analog inputs <strong>OK</strong></p></li>
<li><p>change BP to nano I2C and relay command to ESP directly (to allow turnoff relays in fatal error) <strong>OK</strong></p></li>
<li><p>resolv power up problem : implement MAX1232 [ as an option onto the PCB ] <strong>discarded</strong></p></li>
<li><p>implement an I2C watch dog component [ as an option onto the PCB ] <strong>OK</strong></p></li>
<li><p>choix curent sensor: 75% - <strong>discarded</strong> in the first version</p></li>
<li><p>pcb study <strong>OK</strong></p></li>
<li><p>packaging study</p></li>
<li><p>integartion</p></li>
<li><p>add a MOSFET on general power relay to switch them all in one time on power off</p></li>
</ol>
</div>
<hr class="docutils" />
<div class="section" id="watchdog-function">
<h2><a class="toc-backref" href="#table-of-contents">Watchdog function</a><a class="headerlink" href="#watchdog-function" title="Lien permanent vers ce titre">¶</a></h2>
<p>During multiple tests, i noticed that watch dog functionnality of the ESP8266 may fail to reset
the component. But perhaps only when connected to usb port. <strong>So i must made more tests.</strong></p>
<p>What are others solutions for watchdog</p>
<p>RTC DS3231 has a INT output but we can only set to 1 / second or 1/minutes. And it is a pour
solution to control this component to use itself !</p>
<p>MAX1232 has a watch dog feature but with a maximum of 1.2s and direct at startup activated.
It can’t be activate after setup for example. And if we use it, we need to drive its ST pin
but all our outputs are used !</p>
<p>Use a I2C watchdog component as DS1371. If using this component we need to implement
a 32kHz oscillator ! <a class="reference external" href="https://www.mouser.fr/ProductDetail/Maxim-Integrated/DS1374U-33%2b?qs=sGAEpiMZZMtpeOq%2F1QMb1SSF%252Bt1WeK6PeIGzk2pj%252BtA%3D">DS1374U-3+</a> <a class="footnote-reference brackets" href="#id17" id="id18">2</a> (power sup 3V) or -33+ in 3.3V available on MOUSER site for 3€23
Don’t forget to buy oscillator : <a class="reference external" href="https://www.mouser.fr/ProductDetail/Citizen-FineDevice/CFV-20632000AZFB?qs=byeeYqUIh0OaNx0Ju8%2FDbw==&amp;vip=1&amp;gclid=Cj0KCQjwyLDpBRCxARIsAEENsrJb6yYHxWLeDO4R19WO-TyqA6z7VGyO8gui8RFReQgJSRtIWyGPwV0aAsVlEALw_wcB">32k quatz chez Mouser</a> <a class="footnote-reference brackets" href="#id19" id="id20">3</a> 0.68€ !</p>
<p>Warning U denote a uSOP package with à 0.5mm pitch!</p>
<p>Perhaps DS1374 could replace MAX1232 but its VPF level is very low about 2.3V regardless of the
4.6V of the MAX1232.</p>
<p><a class="reference external" href="https://github.com/SpellFoundry/DS1374RTC">Arduino library for DS1374 here</a> <a class="footnote-reference brackets" href="#id21" id="id22">4</a></p>
<p>Use the our NANOI2CIOExpander it is not implented on the library (perhaps a future function).</p>
<p>a DS1307 or 1302 similar to DS3231 SQW/out only 1Hz</p>
<p>An other idea : use an Attiny85 as an I2C watch dog component. Library already exists !
<a class="reference external" href="https://github.com/letscontrolit/ESPEasySlaves">ATTiny85 I2C watchdog experiment</a> <a class="footnote-reference brackets" href="#id23" id="id24">5</a> Wonderful !</p>
<div class="section" id="attiny85-watchdog">
<h3><a class="toc-backref" href="#table-of-contents">ATtiny85 watchdog</a><a class="headerlink" href="#attiny85-watchdog" title="Lien permanent vers ce titre">¶</a></h3>
<p>After some tests, I decided to use it.</p>
<p>I build a ATtiny programmer with a ARDUINO UNO and a <a class="reference external" href="https://www.banggood.com/Arduino-Compatible-328-ProtoShield-Prototype-Expansion-Board-p-926451.html?rmmds=search&amp;cur_warehouse=CN">proto shield</a> <a class="footnote-reference brackets" href="#id25" id="id26">6</a> from Banggood</p>
<p>A little watching on the <a class="reference external" href="https://www.youtube.com/watch?v=S-oBujsoe-Q&amp;t=247s">Heliox” Youtube video</a> <a class="footnote-reference brackets" href="#id27" id="id28">7</a> and it was enough to start !</p>
<p>So i decided for this time to stop  MAX1232 integration.</p>
<dl>
<dt>The only changes that i made in the code of the ATtiny85 watchdog are :</dt><dd><ul class="simple">
<li><p>Settings.TimeOut          = 20;</p></li>
<li><p>Settings.Sleep            = 20;</p></li>
</ul>
<p>An other change : I was obliged to move files in TinyWireS_Custom directory to one upper level !</p>
</dd>
</dl>
<p>This design works perfectly ! but what is the user license of this code ? Perhaps GNU Public 2.1</p>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="_images/attiny_watchDog_integrationPlateform.jpg"><img alt="_images/attiny_watchDog_integrationPlateform.jpg" src="_images/attiny_watchDog_integrationPlateform.jpg" style="width: 400px;" /></a>
<p class="caption"><span class="caption-text">ATtiny85 I2C watchdog hardware test environment</span><a class="headerlink" href="#id1" title="Lien permanent vers cette image">¶</a></p>
</div>
<p>The only missing in this design is an ESP user library. So I write it !</p>
<p>Power ATtiny with 3.3V and don’t forget pullup on D3 and on reset (15k)</p>
</div>
<div class="section" id="atiny85-watchdog-test-tips">
<h3><a class="toc-backref" href="#table-of-contents">ATiny85 watchdog test tips</a><a class="headerlink" href="#atiny85-watchdog-test-tips" title="Lien permanent vers ce titre">¶</a></h3>
<p>There is a TX debug serial on pin 3  speed is 9600</p>
<p>The name of the project of the Atiny code is ESPEasySlaves.</p>
<p>Only for my eyes the code sits in 0044-Iot_ESP_PPlugprojet_3_softwareetudeDeCode (not pushed in
github).</p>
</div>
</div>
<div class="section" id="max1232-integration-aborted">
<h2><a class="toc-backref" href="#table-of-contents">MAX1232 integration aborted</a><a class="headerlink" href="#max1232-integration-aborted" title="Lien permanent vers ce titre">¶</a></h2>
<div class="figure align-center" id="id2">
<img alt="_images/MAX1232pinout.png" src="_images/MAX1232pinout.png" />
<p class="caption"><span class="caption-text">MAX1232 pinout</span><a class="headerlink" href="#id2" title="Lien permanent vers cette image">¶</a></p>
</div>
<p>Very simple : connect VCC, GND and RST/ to RST pin of the 8266 !</p>
<p>Add a pullup on RST/. Also pullup TOL pin 3 (tolerance 10%), pin 7 WD input and pin 1 PBRST/</p>
<p>Warning MAW1232 check power supply in 5V+/-5% ie 4.75 to 5.25V</p>
</div>
<div class="section" id="direct-relay-connection-to-esp-pins">
<h2><a class="toc-backref" href="#table-of-contents">Direct relay connection to ESP pins</a><a class="headerlink" href="#direct-relay-connection-to-esp-pins" title="Lien permanent vers ce titre">¶</a></h2>
<p>On a first stage, relays were connected to nano and Push Button were directly connected to ESP8266.
The purpose is to connect relays to ESP8266 and push button to nano.</p>
<p>Cause when there is an error on I2C bus relay commands are no accessibles and we can’t switch
it off with main power switch.</p>
<dl class="simple">
<dt>List of change:</dt><dd><ul class="simple">
<li><p>IoT_EPS.h Pinning</p></li>
<li><p>void bouton::begin( int boutonPin ) : pinMode(boutonPin, INPUT_PULLUP); _nano.pinMode</p></li>
<li><p>void bouton::update() : large changes digitalRead to _nano.digitalRead (group in one line)</p></li>
<li><p>bool bouton::directRead() =&gt; one _nano.digitalRead.</p></li>
<li><p>void CPowerPlug::begin : one line     _nano.pinMode( _pin, OUTPUT ); to normal pinMode</p></li>
<li><p>void CPowerPlug::updateOutputs : one line to change</p></li>
</ul>
</dd>
</dl>
<p>A failure (work branch : relayChange) because some of the ESP8266 pins have others usages that are
not compatibles with relay command. Specaly D3 and D4 respectively IO-0 and IO-2 that are used
during the reset and that changes state. So we leave this work on its branche and return to the previous
configuration with relay commands connected to the NanoI2CIOExpander.</p>
<p>Others solutions to solve our problem:</p>
<ol class="arabic simple">
<li><p>use a WEmos ESP32 with more IO (perhaps we can remove NanoI2CIOExpander…)</p></li>
<li><p>use another relay or a transitor MOS to switch off the 5V Power supply of the relay commands.
This new relay would be drive directly by the Main Power Switch</p></li>
</ol>
<p>Problem solved with the second solution.</p>
</div>
<div class="section" id="ac-power-plug-in-the-world">
<h2><a class="toc-backref" href="#table-of-contents">AC power plug in the world</a><a class="headerlink" href="#ac-power-plug-in-the-world" title="Lien permanent vers ce titre">¶</a></h2>
<p>It’s incredible !</p>
<p>See in <a class="reference external" href="https://en.wikipedia.org/wiki/AC_power_plugs_and_sockets">wikipedia power plug</a> <a class="footnote-reference brackets" href="#id29" id="id30">8</a></p>
<p>and in French : <a class="reference external" href="https://fr.wikipedia.org/wiki/Prise_%C3%A9lectrique#Plusieurs_normes_diff%C3%A9rentes">prises secteur sur wikipedia</a> <a class="footnote-reference brackets" href="#id31" id="id32">9</a></p>
</div>
<hr class="docutils" />
<div class="section" id="esp-power">
<h2><a class="toc-backref" href="#table-of-contents">ESP power</a><a class="headerlink" href="#esp-power" title="Lien permanent vers ce titre">¶</a></h2>
<p>First question: can we power ESP8266 with 5V external power  ?</p>
<p>Answer : yes</p>
<div class="figure align-center" id="id3">
<img alt="_images/alimWemosD1Mini.png" src="_images/alimWemosD1Mini.png" />
<p class="caption"><span class="caption-text">Power schematic of WEMOS D1 mini</span><a class="headerlink" href="#id3" title="Lien permanent vers cette image">¶</a></p>
</div>
<p>Can we power ESP with external 5V and USB at the same time ?</p>
<div class="figure align-center" id="id4">
<img alt="_images/alimWemosD1_usbInput.jpg" src="_images/alimWemosD1_usbInput.jpg" />
<p class="caption"><span class="caption-text">Power schematic of WEMOS D1 mini USB input</span><a class="headerlink" href="#id4" title="Lien permanent vers cette image">¶</a></p>
</div>
<p>The USB input is protected by a diode, ok</p>
<p>But our external power is not. All +5V are connected together so USB wil power all the board and
relays. It is not very good. We should put a diode between 5V of ESP and the rest of the board.
In this way, external power could power ESP but +5V power from ESP could not power the rest of the
plug.</p>
</div>
<hr class="docutils" />
<div class="section" id="esp8266-power-up-problem">
<h2><a class="toc-backref" href="#table-of-contents">ESP8266 power up problem</a><a class="headerlink" href="#esp8266-power-up-problem" title="Lien permanent vers ce titre">¶</a></h2>
<p>When I power Wemos by external 5V, the system don’t start correctly.</p>
<p>Apparently it stay locked in an unknow state for about 6 seconds and finaly it start.</p>
<p>I suspect a watch dog time out.</p>
<p>I try to put à 47uF on reset. With oscilloscope I watch the signal and I thinks that the slew rate
is to low.</p>
<p>I consider to add a MAX1232 on the reset pin or an analog circuit.</p>
<p>I checked IO0 (D3) used to flash the component is connect to BP3</p>
<p>At the begin of the setup I add a delay during this delay i drive the built-in LED for 1s
and it solves the problem ! Very strange behavior !</p>
</div>
<div class="section" id="real-time-calendar-clock">
<h2><a class="toc-backref" href="#table-of-contents">Real time calendar clock</a><a class="headerlink" href="#real-time-calendar-clock" title="Lien permanent vers ce titre">¶</a></h2>
<p>Adding of a DS3231 as in the project : <a class="reference external" href="https://github.com/volab/ESP_NTP_DS3231">ESP_NTP_DS3231</a></p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>D1 : SCL
D2 : SDA</p>
</div>
<p>I2C pullup ? There is pull up on DS3231 ! Yes I checked it 4.7k</p>
<p>Power consumption : 1.9mA measured 08/03/19</p>
</div>
<hr class="docutils" />
<div class="section" id="current-sensor-choice">
<h2><a class="toc-backref" href="#table-of-contents">Current sensor choice</a><a class="headerlink" href="#current-sensor-choice" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="ina219-et-ina220">
<h3><a class="toc-backref" href="#table-of-contents">INA219 et INA220</a><a class="headerlink" href="#ina219-et-ina220" title="Lien permanent vers ce titre">¶</a></h3>
<ul class="simple">
<li><p>impossible « bus voltage 0-26V »</p></li>
</ul>
</div>
<div class="section" id="acs712">
<h3><a class="toc-backref" href="#table-of-contents">ACS712</a><a class="headerlink" href="#acs712" title="Lien permanent vers ce titre">¶</a></h3>
<ul class="simple">
<li><p>« Output voltage proportional to AC or DC currents »</p></li>
<li><p>« 2.1 kVRMS minimum isolation voltage from pins 1-4 to pins 5-8 »</p></li>
<li><p>« 5V power supply »</p></li>
</ul>
<p>pb it is not I2C compnent and more we need 4</p>
<p>3 version exist -05 -20 -30 for 5A, 20A, 30A.</p>
<dl>
<dt>On Banggood there are :</dt><dd><ul class="simple">
<li><p><a class="reference external" href="https://www.banggood.com/ACS712TELC-05B-5A-Module-Current-Sensor-Module-For-Arduino-p-74020.html?akmClientCountry=FR&amp;&amp;cur_warehouse=CN">Banggood ACS712 5A version</a> <a class="footnote-reference brackets" href="#id33" id="id34">10</a></p></li>
<li><p><a class="reference external" href="https://www.banggood.com/1PC-30A-New-Range-Current-Sensor-Module-for-ACS712-p-86583.html?rmmds=search&amp;cur_warehouse=CN">Banggood ACS712 30A version</a> <a class="footnote-reference brackets" href="#id35" id="id36">11</a></p></li>
<li><p><a class="reference external" href="https://fr.aliexpress.com/item/32315336227.html">20A version on AliExpress</a> <a class="footnote-reference brackets" href="#id37" id="id38">12</a></p></li>
</ul>
<p>20A version output a 100mV/A</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>5A version is  a rail to rail value +/-5A but we need to mesure RMS value 5A/sqr(2) = 3.53A.
With a 20A value it means that we have 14.14A with 100mV/A factor it risk to be very low
mesurement for small curent values. for exemple: for a 100mA we need to mesure 10mV.</p>
</div>
</div>
<div class="section" id="acs764">
<h3><a class="toc-backref" href="#table-of-contents">ACS764</a><a class="headerlink" href="#acs764" title="Lien permanent vers ce titre">¶</a></h3>
<p>I can’t find rail to rail max  voltage</p>
<ul class="simple">
<li><p>I2C</p></li>
<li><p>max courant  programmable</p></li>
<li><p>but Unidirectional DC current sensing and reporting : KO</p></li>
</ul>
</div>
<div class="section" id="internet-search">
<h3><a class="toc-backref" href="#table-of-contents">Internet search</a><a class="headerlink" href="#internet-search" title="Lien permanent vers ce titre">¶</a></h3>
<p>« AC isolated current sensor I2C »</p>
<p>The winer (not in 2019 !) is <a class="reference external" href="https://www.silabs.com/products/isolation/current-sensors/si890x-isolated-adc-ac-mains-monitor">Si8901B-GS</a> <a class="footnote-reference brackets" href="#id39" id="id40">13</a></p>
<p>dispo on <a class="reference external" href="https://www.mouser.fr/Search/Refine.aspx?Keyword=SI8901">Mouser</a> <a class="footnote-reference brackets" href="#id41" id="id42">14</a> à 3.44€/10pcs</p>
<div class="admonition warning">
<p class="admonition-title">Avertissement</p>
<p>It requires a 3.3V power supply referenced to Neutral line ! (see fig16 page 24 in its datasheet)</p>
</div>
<p><a class="reference external" href="http://tinkerman.cat/the-espurna-board-a-smart-wall-switch-with-power-monitoring/#lightbox-gallery-oY6vOUw7/3/">Usage example</a> <a class="footnote-reference brackets" href="#id43" id="id44">15</a> of an HLW8012. Open source example</p>
<p>Finaly, now that we have on board NANOI2CIOExpander that provide 6 analog inputs we can use ACS712.</p>
<div class="admonition warning">
<p class="admonition-title">Avertissement</p>
<p>For me, most of breakout boards provide on internet have an isolation issue. The ground plane comes very close to AC terminal (less than 1 mm)</p>
</div>
<div class="figure align-center" id="id5" style="width: 100%">
<a class="reference internal image-reference" href="_images/ACS712wrongModul.jpg"><img alt="alternate text" src="_images/ACS712wrongModul.jpg" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">ACS712 wrong breakout board</span><a class="headerlink" href="#id5" title="Lien permanent vers cette image">¶</a></p>
</div>
<p>Specialy those with mounting holes. Its is mode revelant from back side:</p>
<div class="figure align-center" id="id6" style="width: 100%">
<a class="reference internal image-reference" href="_images/wrongACS712moduleBack.jpg"><img alt="ACS712 wrong breakout board back side" src="_images/wrongACS712moduleBack.jpg" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">ACS712 wrong breakout board back side</span><a class="headerlink" href="#id6" title="Lien permanent vers cette image">¶</a></p>
</div>
<div class="figure align-center" id="id7" style="width: 100%">
<a class="reference internal image-reference" href="_images/ACS712anotherGoodModulOnly20A.jpg"><img alt="ACS712 a good breakout board" src="_images/ACS712anotherGoodModulOnly20A.jpg" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">ACS712 a good breakout board</span><a class="headerlink" href="#id7" title="Lien permanent vers cette image">¶</a></p>
</div>
<div class="figure align-center" id="id8" style="width: 100%">
<a class="reference internal image-reference" href="_images/backSideViewAdeepin.jpg"><img alt="ACS712 a good breakout board back" src="_images/backSideViewAdeepin.jpg" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">ACS712 a good breakout board back</span><a class="headerlink" href="#id8" title="Lien permanent vers cette image">¶</a></p>
</div>
<p>More connector are bigest than on the other modules and they arive not solder. There is 2 big holes
on pcb to connect directly large wires for 30A curent. the size oh this holes is about 2.9mm.</p>
<p><a class="reference external" href="https://fr.aliexpress.com/item/4000114853244.html?spm=a2g0o.productlist.0.0.66ea5b1eF7t2X4&amp;algo_pvid=1b39f4cd-fbad-4e1e-9dde-36822b81eafc&amp;algo_expid=1b39f4cd-fbad-4e1e-9dde-36822b81eafc-34&amp;btsid=b1b106c8-8af6-4248-a717-bc9083416f7d&amp;ws_ab_test=searchweb0_0,searchweb201602_1,searchweb201603_52">aliExpress good module provided in 5A grade</a> <a class="footnote-reference brackets" href="#id45" id="id46">16</a> or <a class="reference external" href="https://fr.aliexpress.com/item/32649182582.html?spm=a2g0o.productlist.0.0.66ea5b1eF7t2X4&amp;algo_pvid=1b39f4cd-fbad-4e1e-9dde-36822b81eafc&amp;algo_expid=1b39f4cd-fbad-4e1e-9dde-36822b81eafc-26&amp;btsid=b1b106c8-8af6-4248-a717-bc9083416f7d&amp;ws_ab_test=searchweb0_0,searchweb201602_1,searchweb201603_52">another one</a> <a class="footnote-reference brackets" href="#id47" id="id48">17</a></p>
</div>
<div class="section" id="first-test">
<h3><a class="toc-backref" href="#table-of-contents">First test</a><a class="headerlink" href="#first-test" title="Lien permanent vers ce titre">¶</a></h3>
<p>With my new received ACS712 5A breakout board, i made a first test with oscilloscope, multimeter
and a motor as a charge ( with the drill press of the lab).</p>
<p>Multimeter measure 0.793A</p>
<div class="figure align-center" id="id9" style="width: 100%">
<img alt="Curent measurment without load" src="_images/curentMeasureNoLoad.jpg" />
<p class="caption"><span class="caption-text">Curent measurment without load</span><a class="headerlink" href="#id9" title="Lien permanent vers cette image">¶</a></p>
</div>
<div class="figure align-default" id="id10" style="width: 100%">
<img alt="Curent measurment with motor" src="_images/curentMeasureMoto.jpg" />
<p class="caption"><span class="caption-text">Curent measurment with motor</span><a class="headerlink" href="#id10" title="Lien permanent vers cette image">¶</a></p>
</div>
<p>185mV/A we can see that the measurment will be not very precise and very noisy !</p>
<p>For 5A it give 5x185 = 925mV above and under 2.5V</p>
</div>
<div class="section" id="new-asc723">
<h3><a class="toc-backref" href="#table-of-contents">New ASC723</a><a class="headerlink" href="#new-asc723" title="Lien permanent vers ce titre">¶</a></h3>
<p>Replacement part for ACS712 find on the Allegro web site</p>
<p>« The Allegro™ ACS723 current sensor IC is an economical and
precise solution for AC or DC current sensing in industrial,
commercial, and communications systems. » from datasheet.</p>
<p>But… It is not very widespread. It is available only on SPARKFUN and distribute by MOUSER</p>
<p><a class="reference external" href="https://www.sparkfun.com/products/13679">SPARKFUN</a> <a class="footnote-reference brackets" href="#id49" id="id50">18</a> provide 2 breakoutboard. On one there is a smal AOP for <a class="reference external" href="https://www.sparkfun.com/products/14544">low current version</a> <a class="footnote-reference brackets" href="#id51" id="id52">19</a>.</p>
<p><a class="reference external" href="https://www.mouser.fr/ProductDetail/SparkFun/SEN-13679?qs=sGAEpiMZZMth%2FZucVH%252BQV%252BqTLTi3I91PHEyo95sZVRRnBMCmkoQqnQ%3D%3D">at MOUSER</a> <a class="footnote-reference brackets" href="#id53" id="id54">20</a></p>
<p>I find an another problème : the price ! Tips : breakout board for ACS712 should be compatible !</p>
<p>The component alone is available <a class="reference external" href="https://fr.rs-online.com/web/p/capteurs-de-courant/8660760/">on Radiospares site</a> <a class="footnote-reference brackets" href="#id55" id="id56">21</a>.</p>
<p>But an improuvment is the sensitivity for +/-5A version we pass from 185mV/A for ACS712 to 400mV/A.</p>
<p>An other improvment there is a +/-10A version ACS723LLCTR-10AB-T but it is very expensive
5.81€ with VAT regarless of the ASC712.</p>
</div>
<div class="section" id="tmcs1100-from-ti">
<h3><a class="toc-backref" href="#table-of-contents">TMCS1100 from ti</a><a class="headerlink" href="#tmcs1100-from-ti" title="Lien permanent vers ce titre">¶</a></h3>
<p>No breakout board on the net !</p>
<p>ACS70331</p>
</div>
<div class="section" id="current-sensing-aborted">
<h3><a class="toc-backref" href="#table-of-contents">Current Sensing Aborted</a><a class="headerlink" href="#current-sensing-aborted" title="Lien permanent vers ce titre">¶</a></h3>
<p>For now, we abort the idea of sensing the curent in each chanel of the IoT EPS because we can’t find
a goog solution that match the main criteria:</p>
<ul class="simple">
<li><p>ability to measure low and high current from 0.01A to 10A True RMS on AC240V suply without neutral
reference.</p></li>
</ul>
<p>So we decide to go on the rest of the project without this feature but we keep it in mind.</p>
<p>For remembering, current measurment covers 2  needs:
#. check if the 2 relais on one channel have swtich correctly
#. provide power consumption to the user</p>
<p>For the first one we can measure voltage with a module like this :</p>
<a class="reference internal image-reference" href="_images/voltageMesurmentmodule.jpg"><img alt="_images/voltageMesurmentmodule.jpg" class="align-center" src="_images/voltageMesurmentmodule.jpg" style="width: 400px;" /></a>
<p>See <a class="reference external" href="https://fr.aliexpress.com/item/32816455579.html">Module AC on AliExpress</a> <a class="footnote-reference brackets" href="#id57" id="id58">22</a> with voltage lower transformer</p>
<p>This solution is more easy to implement even at the end of the project because voltage measurement
are made in parallel and there is only one value to measure prensence of the 240V.</p>
<p>An other way to do ti is to use SFH6206 as on <a class="reference external" href="https://electronics.stackexchange.com/questions/17008/how-can-i-detect-a-power-outage-with-a-microcontroller">Electrical Engineering forum</a> <a class="footnote-reference brackets" href="#id59" id="id60">23</a> but this solution
requires interrupt pin that we don’t have here ! We have only analog pin on the ARDUINO nano !</p>
</div>
<div class="section" id="max71020a-a-new-hope">
<h3><a class="toc-backref" href="#table-of-contents">MAX71020A a new hope</a><a class="headerlink" href="#max71020a-a-new-hope" title="Lien permanent vers ce titre">¶</a></h3>
<p>In february 2020, I find a new component to measure AC curent circuit spécialisé sur bus SPI.</p>
<p>Pb seems to be obsolescence in a near future… Dommage 4.11€ <a class="reference external" href="https://www.mouser.fr/ProductDetail/Maxim-Integrated/MAX71020AETI%2b?qs=%2Fha2pyFaduhbncrMXO3FSjhx%252BjRn69riAjwSGzocCvw%252Bj%2FNqq3%2F7JvLM9vZohPbP">at Mouser.com</a> <a class="footnote-reference brackets" href="#id61" id="id62">24</a></p>
<p>Replace part on Maxim’s site ? 78M6613 reference sold to SILERGIE ? obso Stok 0 on Mouser</p>
<p>A very short time new hope :-(</p>
<hr class="docutils" />
</div>
</div>
<div class="section" id="relay-board-choice">
<span id="index-0"></span><h2><a class="toc-backref" href="#table-of-contents">Relay board choice</a><a class="headerlink" href="#relay-board-choice" title="Lien permanent vers ce titre">¶</a></h2>
<p>Coupure des 2 voies en même temps (phase et neutre) donc soit des relais 2 voies soit 8 relais.</p>
<p>Nous avons retenu l’option 8 relais car plus disponible dans l’écosphére ARDUINO.</p>
<p>The real need is a DPST relay but its very difficlut to find more with a 5V cmd and not with
a breakout board form. A possible solution would be to make our own relays pcb.</p>
<p>Disponible entre autres chez <a class="reference external" href="https://www.banggood.com/fr/5Pcs-5V-8-Channel-Relay-Module-Board-For-Arduino-PIC-AVR-DSP-ARM-p-968931.html?rmmds=detail-left-hotproducts__2&amp;cur_warehouse=CN">Banggood 8 Channel Module Module Relais</a> <a class="footnote-reference brackets" href="#id63" id="id64">25</a></p>
<div class="figure align-center" id="id11">
<img alt="_images/moduleRelais8Chan.png" src="_images/moduleRelais8Chan.png" />
<p class="caption"><span class="caption-text">Photo module relais 8 voies de chez Banggod</span><a class="headerlink" href="#id11" title="Lien permanent vers cette image">¶</a></p>
</div>
<p>Le gros soucis avec ces modules c’est que les relais sont actif par défaut.</p>
<p>On pourrait utiliser le contact repos, mais il y a un petit risque d’avoir une micro alimentation
des équipements derrière la prise pendant quelques milisecondes.</p>
<p>Solution : inversé le signal de commande avec 4 2N7000 à 0.24€ chez RS particulier</p>
<p>la bobine est données pour 70ohm sous 5V soit I environ 75mA * 8 = 571mA</p>
<p>Nous avons mesuré 156mA pour 2 relais ce qui donnerais 624mA pour les 8 soit un convertisseur
AC/DC capable de délivrer 3.2W</p>
<hr class="docutils" />
</div>
<div class="section" id="input-output-assignment">
<span id="index-1"></span><h2><a class="toc-backref" href="#table-of-contents">Input / output assignment</a><a class="headerlink" href="#input-output-assignment" title="Lien permanent vers ce titre">¶</a></h2>
<div class="figure align-center" id="id12">
<a class="reference internal image-reference" href="_images/wemos-d1-mini-pinout_avecI2C.png"><img alt="_images/wemos-d1-mini-pinout_avecI2C.png" src="_images/wemos-d1-mini-pinout_avecI2C.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text">Wemos D1 Mini pinout</span><a class="headerlink" href="#id12" title="Lien permanent vers cette image">¶</a></p>
</div>
<table class="docutils align-center" id="id13">
<caption><span class="caption-text">IO Assignment</span><a class="headerlink" href="#id13" title="Lien permanent vers ce tableau">¶</a></caption>
<colgroup>
<col style="width: 13%" />
<col style="width: 33%" />
<col style="width: 54%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>pins</p></th>
<th class="head"><p>Assignment</p></th>
<th class="head"><p>ESP-GPIO</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>D0</p></td>
<td><p>Main Power sw</p></td>
<td><p>IO16</p></td>
</tr>
<tr class="row-odd"><td><p>D1</p></td>
<td><p>I2C SCL</p></td>
<td><p>IO5</p></td>
</tr>
<tr class="row-even"><td><p>D2</p></td>
<td><p>I2C data</p></td>
<td><p>IO4</p></td>
</tr>
<tr class="row-odd"><td><p>D3</p></td>
<td><p>BP3</p></td>
<td><p>IO0 - Warning PU10k</p></td>
</tr>
<tr class="row-even"><td><p>D4</p></td>
<td><p>BP2</p></td>
<td><p>IO2 - PU10k</p></td>
</tr>
<tr class="row-odd"><td><p>D5</p></td>
<td><p>BP1</p></td>
<td><p>IO14</p></td>
</tr>
<tr class="row-even"><td><p>D6</p></td>
<td><p>BP0</p></td>
<td><p>IO12</p></td>
</tr>
<tr class="row-odd"><td><p>D7</p></td>
<td><p>DATA WS2801</p></td>
<td><p>IO13</p></td>
</tr>
<tr class="row-even"><td><p>D8</p></td>
<td><p>CLK WS2801</p></td>
<td><p>IO15 - PD10k</p></td>
</tr>
</tbody>
</table>
<ul class="simple" id="index-2">
<li><p>GPIO16: pin is high at BOOT</p></li>
<li><p>GPIO0: boot failure if pulled LOW</p></li>
<li><p>GPIO2: pin is high on BOOT, boot failure if pulled LOW</p></li>
<li><p>GPIO15: boot failure if pulled HIGH</p></li>
<li><p>GPIO3: pin is high at BOOT</p></li>
<li><p>GPIO1: pin is high at BOOT, boot failure if pulled LOW</p></li>
<li><p>GPIO10: pin is high at BOOT</p></li>
<li><p>GPIO9: pin is high at BOOT</p></li>
</ul>
<p>Source : sur <a class="reference external" href="https://randomnerdtutorials.com/esp8266-pinout-reference-gpios/">RandomeredTutorial ESP8266 pinout</a> <a class="footnote-reference brackets" href="#id65" id="id66">26</a></p>
<hr class="docutils" />
</div>
<div class="section" id="nanoi2cioexpander">
<span id="index-3"></span><h2><a class="toc-backref" href="#table-of-contents">nanoI2CIOExpander</a><a class="headerlink" href="#nanoi2cioexpander" title="Lien permanent vers ce titre">¶</a></h2>
<p>To solve digital I/O and analog I decide to use a ARDUINO nano as I2C slave. I belived that someone
like ADAFRUIT or SPARFUN has build a lib to use an ARDUINO Nano as <a class="reference external" href="https://www.hackster.io/MajorLeeDuVoLAB/nano-i2c-io-expander-3e76fc">I2C I/O expander</a> <a class="footnote-reference brackets" href="#id67" id="id68">27</a>.</p>
<p>At my great surprise, nobody does it ! So I wrote it and I provide it on <a class="reference external" href="https://www.hackster.io/MajorLeeDuVoLAB/nano-i2c-io-expander-3e76fc">HACKSTER IO</a> <a class="footnote-reference brackets" href="#id67" id="id69">27</a></p>
<p>Nano pining :</p>
<table class="docutils align-center" id="id14">
<caption><span class="caption-text">Affectation des broches sur l’ARDUINO Nano I2C I/O Expander</span><a class="headerlink" href="#id14" title="Lien permanent vers ce tableau">¶</a></caption>
<colgroup>
<col style="width: 19%" />
<col style="width: 26%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>pins</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>affectation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>D2</p></td>
<td><p>0</p></td>
<td><p>PLUG0-ROUGE</p></td>
</tr>
<tr class="row-odd"><td><p>D3</p></td>
<td><p>1</p></td>
<td><p>PLUG1-VERT</p></td>
</tr>
<tr class="row-even"><td><p>D4</p></td>
<td><p>2</p></td>
<td><p>PLUG2-BLEUE</p></td>
</tr>
<tr class="row-odd"><td><p>D5</p></td>
<td></td>
<td><p>PLUG3-JAUNE</p></td>
</tr>
<tr class="row-even"><td><p>D6</p></td>
<td></td>
<td><p>LED0</p></td>
</tr>
<tr class="row-odd"><td><p>D7</p></td>
<td></td>
<td><p>LED1</p></td>
</tr>
<tr class="row-even"><td><p>D8</p></td>
<td></td>
<td><p>LED2</p></td>
</tr>
<tr class="row-odd"><td><p>D9</p></td>
<td><p>7</p></td>
<td><p>LED3</p></td>
</tr>
<tr class="row-even"><td><p>D10</p></td>
<td><p>8</p></td>
<td><p>WIFI LED</p></td>
</tr>
<tr class="row-odd"><td><p>D11</p></td>
<td><p>9</p></td>
<td><p>MAIN POWER LED</p></td>
</tr>
<tr class="row-even"><td><p>D12</p></td>
<td><p>10</p></td>
<td><p>Special BP</p></td>
</tr>
<tr class="row-odd"><td><p>A0</p></td>
<td></td>
<td><p>PLUG0 Current</p></td>
</tr>
<tr class="row-even"><td><p>A1</p></td>
<td></td>
<td><p>PLUG1 Current</p></td>
</tr>
<tr class="row-odd"><td><p>A2</p></td>
<td></td>
<td><p>PLUG2 Current</p></td>
</tr>
<tr class="row-even"><td><p>A3</p></td>
<td></td>
<td><p>PLUG3 Current</p></td>
</tr>
<tr class="row-odd"><td><p>A6</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>A7</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<hr class="docutils" />
<div class="section" id="bom">
<h2><a class="toc-backref" href="#table-of-contents">BOM</a><a class="headerlink" href="#bom" title="Lien permanent vers ce titre">¶</a></h2>
<ul class="simple">
<li><p>Carte 8 relais banggood 4.57</p></li>
<li><p>4 BP 0.2€ = 0.8€</p></li>
<li><p>1 ESP8266 WEMOD D1 mini : 2.81€</p></li>
<li><p>1 NANO V3 2.28€</p></li>
<li><p>4 Prises 1.9€ = 7.6€</p></li>
<li><p>morceau de goulotte</p></li>
</ul>
<p>Sous Total = 18.06€</p>
<ul class="simple">
<li><p>4 mesure de courant 7.27€ = 29.08€</p></li>
</ul>
<p>Total = 47.14</p>
<ul class="simple">
<li><p>4 ACS712 isolated 3.99€ <a class="reference external" href="https://fr.aliexpress.com/item/ACS714-5A-20A-30A-5-v-Isoler-Capteur-De-Courant-Carte-de-D-rivation-Filtre-R/32865669250.html">sur aliexpresse</a> <a class="footnote-reference brackets" href="#id70" id="id71">28</a></p></li>
</ul>
<ul class="simple">
<li><p>Autre ACS712 mieux isolé <a class="reference external" href="https://fr.aliexpress.com/item/20A-Range-ACS712-Current-Sensor-Module-AC-Current-Sensor-DC-Hall-Current-Sensor-module-for-Arduino/32649182582.html?spm=a2g0w.search0204.3.84.73c22411wAFPs5&amp;ws_ab_test=searchweb0_0,searchweb201602_5_10065_10068_319_5735015_10892_317_5734915_10696_10924_453_10084_454_10083_10618_10920_10921_10304_10922_10307_10820_10821_537_10302_536_5730115_10843_10059_10884_10887_100031_5735215_321_322_10103_5729115_5735115_10930,searchweb201603_51,ppcSwitch_0_ppcChannel&amp;algo_expid=5ef8197b-2bdc-48f7-8a9b-d8edf6a406b9-11&amp;algo_pvid=5ef8197b-2bdc-48f7-8a9b-d8edf6a406b9">toujours sur aliexpress</a> <a class="footnote-reference brackets" href="#id72" id="id73">29</a> par 10pcs 2.62€/pcs fdp compris soit 4x2.62 = 10.48</p></li>
</ul>
<blockquote>
<div><p>ce qui nous amènerait à 28.54€</p>
</div></blockquote>
<ul class="simple">
<li><p>+4 led rouge d3mm</p></li>
<li><p>+1 current fault</p></li>
<li><p>+5 résistance 330ohm</p></li>
<li><p>+4 LED neopixel <a class="reference external" href="https://fr.aliexpress.com/item/20pcs-14mm-8mm-F8-DC5V-WS2801-2801-IC-diffused-RGB-LED-for-Pixel-LED-Module-Light/1966017933.html#!">diam 8mm sur aliexpress</a> <a class="footnote-reference brackets" href="#id76" id="id77">31</a> 4x0.23€</p></li>
<li><p>+1 HLK-PM01 AC/DC 220V/5V seulement 3W soit 0.6A 3.03€ (un peu juste voir § <a class="reference internal" href="#relay-board-choice">Relay board choice</a> )</p></li>
<li><p>Fuse et porte fuse</p></li>
<li><p>DS3231 avec batterie</p></li>
<li><p>4 x <a class="reference external" href="https://www.rs-particuliers.com/Search.aspx?Terms=671-4733&amp;Page=0">2N7000 chez RS PArticulers</a> <a class="footnote-reference brackets" href="#id74" id="id75">30</a></p></li>
</ul>
<p>5V power supply</p>
<p><a class="reference external" href="https://www.banggood.com/5pcs-AC-DC-5V-2A-10W-Switching-Power-Bare-Board-Stabilivolt-Power-Module-AC-100-240V-To-DC-5V-p-1190175.html?rmmds=detail-left-hotproducts__3&amp;cur_warehouse=CN">https://www.banggood.com/5pcs-AC-DC-5V-2A-10W-Switching-Power-Bare-Board-Stabilivolt-Power-Module-AC-100-240V-To-DC-5V-p-1190175.html?rmmds=detail-left-hotproducts__3&amp;cur_warehouse=CN</a></p>
<p>5pcs 6.03€</p>
<p><a class="reference external" href="https://www.banggood.com/AC-DC-5V-2A-Switching-Power-Supply-Board-Low-Ripple-Power-Supply-Board-10W-Switching-Module-p-1337342.html?rmmds=search&amp;cur_warehouse=CN">https://www.banggood.com/AC-DC-5V-2A-Switching-Power-Supply-Board-Low-Ripple-Power-Supply-Board-10W-Switching-Module-p-1337342.html?rmmds=search&amp;cur_warehouse=CN</a></p>
<p>3€26 /pcs</p>
<p><a class="reference external" href="https://www.banggood.com/220V-to-5V-5W-AC-DC-Isolation-Switch-Power-Supply-Module-p-1420417.html?rmmds=detail-bottom-alsobought__4&amp;cur_warehouse=CN">https://www.banggood.com/220V-to-5V-5W-AC-DC-Isolation-Switch-Power-Supply-Module-p-1420417.html?rmmds=detail-bottom-alsobought__4&amp;cur_warehouse=CN</a></p>
<p>3€23 seulement 1A mais à souder sur CI</p>
</div>
<div class="section" id="useful-documentation">
<h2><a class="toc-backref" href="#table-of-contents">Useful Documentation</a><a class="headerlink" href="#useful-documentation" title="Lien permanent vers ce titre">¶</a></h2>
<p>Examples</p>
<p>SONOF POW on <a class="reference external" href="https://www.cnx-software.com/2017/04/09/espurna-h-is-a-compact-open-source-hardware-board-with-esp8266-wisoc-a-10a-relay-hlw8012-power-monitoring-chip/">CNX software</a> <a class="footnote-reference brackets" href="#id80" id="id81">33</a></p>
<p>SONOF POW on <a class="reference external" href="https://sonoff.itead.cc/en/products/sonoff/sonoff-pow">the SONOF site</a> <a class="footnote-reference brackets" href="#id82" id="id83">34</a></p>
<p><a class="reference external" href="https://tinkerman.cat/post/the-espurna-board-a-smart-wall-switch-with-power-monitoring#lightbox-gallery-oY6vOUw7/3/">The ESPurna board</a> <a class="footnote-reference brackets" href="#id78" id="id79">32</a> : very interresting !</p>
<p><a class="reference external" href="https://www.hackster.io/ashish_8284/smart-switch-having-6-outputs-5-inputs-91fc29?utm_campaign=new_projects&amp;utm_content=1&amp;utm_medium=email&amp;utm_source=hackster&amp;utm_term=project_name">Smart Switch Having 6 Outputs &amp; 5 Inputs</a> <a class="footnote-reference brackets" href="#id84" id="id85">35</a> :</p>
<p><a class="reference external" href="https://electronics.stackexchange.com/questions/17008/how-can-i-detect-a-power-outage-with-a-microcontroller">How can I detect a power outage with a microcontroller?</a> <a class="footnote-reference brackets" href="#id59" id="id86">23</a></p>
</div>
<div class="section" id="weblinks">
<h2><a class="toc-backref" href="#table-of-contents">Weblinks</a><a class="headerlink" href="#weblinks" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="footnote brackets">
<dt class="label" id="id15"><span class="brackets"><a class="fn-backref" href="#id16">1</a></span></dt>
<dd><p><a class="reference external" href="https://www.apynov.com/konyks-polyco">https://www.apynov.com/konyks-polyco</a></p>
</dd>
<dt class="label" id="id17"><span class="brackets"><a class="fn-backref" href="#id18">2</a></span></dt>
<dd><p><a class="reference external" href="https://www.mouser.fr/ProductDetail/Maxim-Integrated/DS1374U-33%2b?qs=sGAEpiMZZMtpeOq%2F1QMb1SSF%252Bt1WeK6PeIGzk2pj%252BtA%3D">https://www.mouser.fr/ProductDetail/Maxim-Integrated/DS1374U-33%2b?qs=sGAEpiMZZMtpeOq%2F1QMb1SSF%252Bt1WeK6PeIGzk2pj%252BtA%3D</a></p>
</dd>
<dt class="label" id="id19"><span class="brackets"><a class="fn-backref" href="#id20">3</a></span></dt>
<dd><p><a class="reference external" href="https://www.mouser.fr/ProductDetail/Citizen-FineDevice/CFV-20632000AZFB?qs=byeeYqUIh0OaNx0Ju8%2FDbw==&amp;vip=1&amp;gclid=Cj0KCQjwyLDpBRCxARIsAEENsrJb6yYHxWLeDO4R19WO-TyqA6z7VGyO8gui8RFReQgJSRtIWyGPwV0aAsVlEALw_wcB">https://www.mouser.fr/ProductDetail/Citizen-FineDevice/CFV-20632000AZFB?qs=byeeYqUIh0OaNx0Ju8%2FDbw==&amp;vip=1&amp;gclid=Cj0KCQjwyLDpBRCxARIsAEENsrJb6yYHxWLeDO4R19WO-TyqA6z7VGyO8gui8RFReQgJSRtIWyGPwV0aAsVlEALw_wcB</a></p>
</dd>
<dt class="label" id="id21"><span class="brackets"><a class="fn-backref" href="#id22">4</a></span></dt>
<dd><p><a class="reference external" href="https://github.com/SpellFoundry/DS1374RTC">https://github.com/SpellFoundry/DS1374RTC</a></p>
</dd>
<dt class="label" id="id23"><span class="brackets"><a class="fn-backref" href="#id24">5</a></span></dt>
<dd><p><a class="reference external" href="https://github.com/letscontrolit/ESPEasySlaves">https://github.com/letscontrolit/ESPEasySlaves</a></p>
</dd>
<dt class="label" id="id25"><span class="brackets"><a class="fn-backref" href="#id26">6</a></span></dt>
<dd><p><a class="reference external" href="https://www.banggood.com/Arduino-Compatible-328-ProtoShield-Prototype-Expansion-Board-p-926451.html?rmmds=search&amp;cur_warehouse=CN">https://www.banggood.com/Arduino-Compatible-328-ProtoShield-Prototype-Expansion-Board-p-926451.html?rmmds=search&amp;cur_warehouse=CN</a></p>
</dd>
<dt class="label" id="id27"><span class="brackets"><a class="fn-backref" href="#id28">7</a></span></dt>
<dd><p><a class="reference external" href="https://www.youtube.com/watch?v=S-oBujsoe-Q&amp;t=247s">https://www.youtube.com/watch?v=S-oBujsoe-Q&amp;t=247s</a></p>
</dd>
<dt class="label" id="id29"><span class="brackets"><a class="fn-backref" href="#id30">8</a></span></dt>
<dd><p><a class="reference external" href="https://en.wikipedia.org/wiki/AC_power_plugs_and_sockets">https://en.wikipedia.org/wiki/AC_power_plugs_and_sockets</a></p>
</dd>
<dt class="label" id="id31"><span class="brackets"><a class="fn-backref" href="#id32">9</a></span></dt>
<dd><p><a class="reference external" href="https://fr.wikipedia.org/wiki/Prise_%C3%A9lectrique#Plusieurs_normes_diff%C3%A9rentes">https://fr.wikipedia.org/wiki/Prise_%C3%A9lectrique#Plusieurs_normes_diff%C3%A9rentes</a></p>
</dd>
<dt class="label" id="id33"><span class="brackets"><a class="fn-backref" href="#id34">10</a></span></dt>
<dd><p><a class="reference external" href="https://www.banggood.com/ACS712TELC-05B-5A-Module-Current-Sensor-Module-For-Arduino-p-74020.html?akmClientCountry=FR&amp;&amp;cur_warehouse=CN">https://www.banggood.com/ACS712TELC-05B-5A-Module-Current-Sensor-Module-For-Arduino-p-74020.html?akmClientCountry=FR&amp;&amp;cur_warehouse=CN</a></p>
</dd>
<dt class="label" id="id35"><span class="brackets"><a class="fn-backref" href="#id36">11</a></span></dt>
<dd><p><a class="reference external" href="https://www.banggood.com/1PC-30A-New-Range-Current-Sensor-Module-for-ACS712-p-86583.html?rmmds=search&amp;cur_warehouse=CN">https://www.banggood.com/1PC-30A-New-Range-Current-Sensor-Module-for-ACS712-p-86583.html?rmmds=search&amp;cur_warehouse=CN</a></p>
</dd>
<dt class="label" id="id37"><span class="brackets"><a class="fn-backref" href="#id38">12</a></span></dt>
<dd><p><a class="reference external" href="https://fr.aliexpress.com/item/32315336227.html">https://fr.aliexpress.com/item/32315336227.html</a></p>
</dd>
<dt class="label" id="id39"><span class="brackets"><a class="fn-backref" href="#id40">13</a></span></dt>
<dd><p><a class="reference external" href="https://www.silabs.com/products/isolation/current-sensors/si890x-isolated-adc-ac-mains-monitor">https://www.silabs.com/products/isolation/current-sensors/si890x-isolated-adc-ac-mains-monitor</a></p>
</dd>
<dt class="label" id="id41"><span class="brackets"><a class="fn-backref" href="#id42">14</a></span></dt>
<dd><p><a class="reference external" href="https://www.mouser.fr/Search/Refine.aspx?Keyword=SI8901">https://www.mouser.fr/Search/Refine.aspx?Keyword=SI8901</a></p>
</dd>
<dt class="label" id="id43"><span class="brackets"><a class="fn-backref" href="#id44">15</a></span></dt>
<dd><p><a class="reference external" href="http://tinkerman.cat/the-espurna-board-a-smart-wall-switch-with-power-monitoring/#lightbox-gallery-oY6vOUw7/3/">http://tinkerman.cat/the-espurna-board-a-smart-wall-switch-with-power-monitoring/#lightbox-gallery-oY6vOUw7/3/</a></p>
</dd>
<dt class="label" id="id45"><span class="brackets"><a class="fn-backref" href="#id46">16</a></span></dt>
<dd><p><a class="reference external" href="https://fr.aliexpress.com/item/4000114853244.html?spm=a2g0o.productlist.0.0.66ea5b1eF7t2X4&amp;algo_pvid=1b39f4cd-fbad-4e1e-9dde-36822b81eafc&amp;algo_expid=1b39f4cd-fbad-4e1e-9dde-36822b81eafc-34&amp;btsid=b1b106c8-8af6-4248-a717-bc9083416f7d&amp;ws_ab_test=searchweb0_0,searchweb201602_1,searchweb201603_52">https://fr.aliexpress.com/item/4000114853244.html?spm=a2g0o.productlist.0.0.66ea5b1eF7t2X4&amp;algo_pvid=1b39f4cd-fbad-4e1e-9dde-36822b81eafc&amp;algo_expid=1b39f4cd-fbad-4e1e-9dde-36822b81eafc-34&amp;btsid=b1b106c8-8af6-4248-a717-bc9083416f7d&amp;ws_ab_test=searchweb0_0,searchweb201602_1,searchweb201603_52</a></p>
</dd>
<dt class="label" id="id47"><span class="brackets"><a class="fn-backref" href="#id48">17</a></span></dt>
<dd><p><a class="reference external" href="https://fr.aliexpress.com/item/32649182582.html?spm=a2g0o.productlist.0.0.66ea5b1eF7t2X4&amp;algo_pvid=1b39f4cd-fbad-4e1e-9dde-36822b81eafc&amp;algo_expid=1b39f4cd-fbad-4e1e-9dde-36822b81eafc-26&amp;btsid=b1b106c8-8af6-4248-a717-bc9083416f7d&amp;ws_ab_test=searchweb0_0,searchweb201602_1,searchweb201603_52">https://fr.aliexpress.com/item/32649182582.html?spm=a2g0o.productlist.0.0.66ea5b1eF7t2X4&amp;algo_pvid=1b39f4cd-fbad-4e1e-9dde-36822b81eafc&amp;algo_expid=1b39f4cd-fbad-4e1e-9dde-36822b81eafc-26&amp;btsid=b1b106c8-8af6-4248-a717-bc9083416f7d&amp;ws_ab_test=searchweb0_0,searchweb201602_1,searchweb201603_52</a></p>
</dd>
<dt class="label" id="id49"><span class="brackets"><a class="fn-backref" href="#id50">18</a></span></dt>
<dd><p><a class="reference external" href="https://www.sparkfun.com/products/13679">https://www.sparkfun.com/products/13679</a></p>
</dd>
<dt class="label" id="id51"><span class="brackets"><a class="fn-backref" href="#id52">19</a></span></dt>
<dd><p><a class="reference external" href="https://www.sparkfun.com/products/14544">https://www.sparkfun.com/products/14544</a></p>
</dd>
<dt class="label" id="id53"><span class="brackets"><a class="fn-backref" href="#id54">20</a></span></dt>
<dd><p><a class="reference external" href="https://www.mouser.fr/ProductDetail/SparkFun/SEN-13679?qs=sGAEpiMZZMth%2FZucVH%252BQV%252BqTLTi3I91PHEyo95sZVRRnBMCmkoQqnQ%3D%3D">https://www.mouser.fr/ProductDetail/SparkFun/SEN-13679?qs=sGAEpiMZZMth%2FZucVH%252BQV%252BqTLTi3I91PHEyo95sZVRRnBMCmkoQqnQ%3D%3D</a></p>
</dd>
<dt class="label" id="id55"><span class="brackets"><a class="fn-backref" href="#id56">21</a></span></dt>
<dd><p><a class="reference external" href="https://fr.rs-online.com/web/p/capteurs-de-courant/8660760/">https://fr.rs-online.com/web/p/capteurs-de-courant/8660760/</a></p>
</dd>
<dt class="label" id="id57"><span class="brackets"><a class="fn-backref" href="#id58">22</a></span></dt>
<dd><p><a class="reference external" href="https://fr.aliexpress.com/item/32816455579.html">https://fr.aliexpress.com/item/32816455579.html</a></p>
</dd>
<dt class="label" id="id59"><span class="brackets">23</span><span class="fn-backref">(<a href="#id60">1</a>,<a href="#id86">2</a>)</span></dt>
<dd><p><a class="reference external" href="https://electronics.stackexchange.com/questions/17008/how-can-i-detect-a-power-outage-with-a-microcontroller">https://electronics.stackexchange.com/questions/17008/how-can-i-detect-a-power-outage-with-a-microcontroller</a></p>
</dd>
<dt class="label" id="id61"><span class="brackets"><a class="fn-backref" href="#id62">24</a></span></dt>
<dd><p><a class="reference external" href="https://www.mouser.fr/ProductDetail/Maxim-Integrated/MAX71020AETI%2b?qs=%2Fha2pyFaduhbncrMXO3FSjhx%252BjRn69riAjwSGzocCvw%252Bj%2FNqq3%2F7JvLM9vZohPbP">https://www.mouser.fr/ProductDetail/Maxim-Integrated/MAX71020AETI%2b?qs=%2Fha2pyFaduhbncrMXO3FSjhx%252BjRn69riAjwSGzocCvw%252Bj%2FNqq3%2F7JvLM9vZohPbP</a></p>
</dd>
<dt class="label" id="id63"><span class="brackets"><a class="fn-backref" href="#id64">25</a></span></dt>
<dd><p><a class="reference external" href="https://www.banggood.com/fr/5Pcs-5V-8-Channel-Relay-Module-Board-For-Arduino-PIC-AVR-DSP-ARM-p-968931.html?rmmds=detail-left-hotproducts__2&amp;cur_warehouse=CN">https://www.banggood.com/fr/5Pcs-5V-8-Channel-Relay-Module-Board-For-Arduino-PIC-AVR-DSP-ARM-p-968931.html?rmmds=detail-left-hotproducts__2&amp;cur_warehouse=CN</a></p>
</dd>
<dt class="label" id="id65"><span class="brackets"><a class="fn-backref" href="#id66">26</a></span></dt>
<dd><p><a class="reference external" href="https://randomnerdtutorials.com/esp8266-pinout-reference-gpios/">https://randomnerdtutorials.com/esp8266-pinout-reference-gpios/</a></p>
</dd>
<dt class="label" id="id67"><span class="brackets">27</span><span class="fn-backref">(<a href="#id68">1</a>,<a href="#id69">2</a>)</span></dt>
<dd><p><a class="reference external" href="https://www.hackster.io/MajorLeeDuVoLAB/nano-i2c-io-expander-3e76fc">https://www.hackster.io/MajorLeeDuVoLAB/nano-i2c-io-expander-3e76fc</a></p>
</dd>
<dt class="label" id="id70"><span class="brackets"><a class="fn-backref" href="#id71">28</a></span></dt>
<dd><p><a class="reference external" href="https://fr.aliexpress.com/item/ACS714-5A-20A-30A-5-v-Isoler-Capteur-De-Courant-Carte-de-D-rivation-Filtre-R/32865669250.html">https://fr.aliexpress.com/item/ACS714-5A-20A-30A-5-v-Isoler-Capteur-De-Courant-Carte-de-D-rivation-Filtre-R/32865669250.html</a></p>
</dd>
<dt class="label" id="id72"><span class="brackets"><a class="fn-backref" href="#id73">29</a></span></dt>
<dd><p><a class="reference external" href="https://fr.aliexpress.com/item/20A-Range-ACS712-Current-Sensor-Module-AC-Current-Sensor-DC-Hall-Current-Sensor-module-for-Arduino/32649182582.html?spm=a2g0w.search0204.3.84.73c22411wAFPs5&amp;ws_ab_test=searchweb0_0,searchweb201602_5_10065_10068_319_5735015_10892_317_5734915_10696_10924_453_10084_454_10083_10618_10920_10921_10304_10922_10307_10820_10821_537_10302_536_5730115_10843_10059_10884_10887_100031_5735215_321_322_10103_5729115_5735115_10930,searchweb201603_51,ppcSwitch_0_ppcChannel&amp;algo_expid=5ef8197b-2bdc-48f7-8a9b-d8edf6a406b9-11&amp;algo_pvid=5ef8197b-2bdc-48f7-8a9b-d8edf6a406b9">https://fr.aliexpress.com/item/20A-Range-ACS712-Current-Sensor-Module-AC-Current-Sensor-DC-Hall-Current-Sensor-module-for-Arduino/32649182582.html?spm=a2g0w.search0204.3.84.73c22411wAFPs5&amp;ws_ab_test=searchweb0_0,searchweb201602_5_10065_10068_319_5735015_10892_317_5734915_10696_10924_453_10084_454_10083_10618_10920_10921_10304_10922_10307_10820_10821_537_10302_536_5730115_10843_10059_10884_10887_100031_5735215_321_322_10103_5729115_5735115_10930,searchweb201603_51,ppcSwitch_0_ppcChannel&amp;algo_expid=5ef8197b-2bdc-48f7-8a9b-d8edf6a406b9-11&amp;algo_pvid=5ef8197b-2bdc-48f7-8a9b-d8edf6a406b9</a></p>
</dd>
<dt class="label" id="id74"><span class="brackets"><a class="fn-backref" href="#id75">30</a></span></dt>
<dd><p><a class="reference external" href="https://www.rs-particuliers.com/Search.aspx?Terms=671-4733&amp;Page=0">https://www.rs-particuliers.com/Search.aspx?Terms=671-4733&amp;Page=0</a></p>
</dd>
<dt class="label" id="id76"><span class="brackets"><a class="fn-backref" href="#id77">31</a></span></dt>
<dd><p><a class="reference external" href="https://fr.aliexpress.com/item/20pcs-14mm-8mm-F8-DC5V-WS2801-2801-IC-diffused-RGB-LED-for-Pixel-LED-Module-Light/1966017933.html#!">https://fr.aliexpress.com/item/20pcs-14mm-8mm-F8-DC5V-WS2801-2801-IC-diffused-RGB-LED-for-Pixel-LED-Module-Light/1966017933.html#!</a></p>
</dd>
<dt class="label" id="id78"><span class="brackets"><a class="fn-backref" href="#id79">32</a></span></dt>
<dd><p><a class="reference external" href="https://tinkerman.cat/post/the-espurna-board-a-smart-wall-switch-with-power-monitoring#lightbox-gallery-oY6vOUw7/3/">https://tinkerman.cat/post/the-espurna-board-a-smart-wall-switch-with-power-monitoring#lightbox-gallery-oY6vOUw7/3/</a></p>
</dd>
<dt class="label" id="id80"><span class="brackets"><a class="fn-backref" href="#id81">33</a></span></dt>
<dd><p><a class="reference external" href="https://www.cnx-software.com/2017/04/09/espurna-h-is-a-compact-open-source-hardware-board-with-esp8266-wisoc-a-10a-relay-hlw8012-power-monitoring-chip/">https://www.cnx-software.com/2017/04/09/espurna-h-is-a-compact-open-source-hardware-board-with-esp8266-wisoc-a-10a-relay-hlw8012-power-monitoring-chip/</a></p>
</dd>
<dt class="label" id="id82"><span class="brackets"><a class="fn-backref" href="#id83">34</a></span></dt>
<dd><p><a class="reference external" href="https://sonoff.itead.cc/en/products/sonoff/sonoff-pow">https://sonoff.itead.cc/en/products/sonoff/sonoff-pow</a></p>
</dd>
<dt class="label" id="id84"><span class="brackets"><a class="fn-backref" href="#id85">35</a></span></dt>
<dd><p><a class="reference external" href="https://www.hackster.io/ashish_8284/smart-switch-having-6-outputs-5-inputs-91fc29?utm_campaign=new_projects&amp;utm_content=1&amp;utm_medium=email&amp;utm_source=hackster&amp;utm_term=project_name">https://www.hackster.io/ashish_8284/smart-switch-having-6-outputs-5-inputs-91fc29?utm_campaign=new_projects&amp;utm_content=1&amp;utm_medium=email&amp;utm_source=hackster&amp;utm_term=project_name</a></p>
</dd>
</dl>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table des matières</a></h3>
  <ul>
<li><a class="reference internal" href="#">Hardware development documentation</a><ul>
<li><a class="reference internal" href="#ce-qui-existe-en-2020">Ce qui existe en 2020 !</a></li>
<li><a class="reference internal" href="#test-de-la-prise-tp-link-avec-mesure-de-courant">Test de la prise TP-Link avec mesure de courant</a></li>
<li><a class="reference internal" href="#progres">Progres</a></li>
<li><a class="reference internal" href="#watchdog-function">Watchdog function</a><ul>
<li><a class="reference internal" href="#attiny85-watchdog">ATtiny85 watchdog</a></li>
<li><a class="reference internal" href="#atiny85-watchdog-test-tips">ATiny85 watchdog test tips</a></li>
</ul>
</li>
<li><a class="reference internal" href="#max1232-integration-aborted">MAX1232 integration aborted</a></li>
<li><a class="reference internal" href="#direct-relay-connection-to-esp-pins">Direct relay connection to ESP pins</a></li>
<li><a class="reference internal" href="#ac-power-plug-in-the-world">AC power plug in the world</a></li>
<li><a class="reference internal" href="#esp-power">ESP power</a></li>
<li><a class="reference internal" href="#esp8266-power-up-problem">ESP8266 power up problem</a></li>
<li><a class="reference internal" href="#real-time-calendar-clock">Real time calendar clock</a></li>
<li><a class="reference internal" href="#current-sensor-choice">Current sensor choice</a><ul>
<li><a class="reference internal" href="#ina219-et-ina220">INA219 et INA220</a></li>
<li><a class="reference internal" href="#acs712">ACS712</a></li>
<li><a class="reference internal" href="#acs764">ACS764</a></li>
<li><a class="reference internal" href="#internet-search">Internet search</a></li>
<li><a class="reference internal" href="#first-test">First test</a></li>
<li><a class="reference internal" href="#new-asc723">New ASC723</a></li>
<li><a class="reference internal" href="#tmcs1100-from-ti">TMCS1100 from ti</a></li>
<li><a class="reference internal" href="#current-sensing-aborted">Current Sensing Aborted</a></li>
<li><a class="reference internal" href="#max71020a-a-new-hope">MAX71020A a new hope</a></li>
</ul>
</li>
<li><a class="reference internal" href="#relay-board-choice">Relay board choice</a></li>
<li><a class="reference internal" href="#input-output-assignment">Input / output assignment</a></li>
<li><a class="reference internal" href="#nanoi2cioexpander">nanoI2CIOExpander</a></li>
<li><a class="reference internal" href="#bom">BOM</a></li>
<li><a class="reference internal" href="#useful-documentation">Useful Documentation</a></li>
<li><a class="reference internal" href="#weblinks">Weblinks</a></li>
</ul>
</li>
</ul>

  <h4>Sujet précédent</h4>
  <p class="topless"><a href="curentSensing.html"
                        title="Chapitre précédent">IOT EPS curent Sensing</a></p>
  <h4>Sujet suivant</h4>
  <p class="topless"><a href="Bug_ToDoLst.html"
                        title="Chapitre suivant">Bug et ToDo-list</a></p>
  <div role="note" aria-label="source link">
    <h3>Cette page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/hardDev.rst.txt"
            rel="nofollow">Montrer le code source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Recherche rapide</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Index général"
             >index</a></li>
        <li class="right" >
          <a href="Bug_ToDoLst.html" title="Bug et ToDo-list"
             >suivant</a> |</li>
        <li class="right" >
          <a href="curentSensing.html" title="IOT EPS curent Sensing"
             >précédent</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Documentation IoT_EPS </a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Poltergeist42.
      Créé avec <a href="http://sphinx-doc.org/">Sphinx</a> 2.3.1.
    </div>
  </body>
</html>